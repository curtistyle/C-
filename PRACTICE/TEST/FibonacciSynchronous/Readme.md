## 21.4 Ejecución Secuencial de Dos Tareas Intensivas en Cálculos

La Figura 21.2 utiliza el método recursivo Fibonacci que introdujimos en la Sección 21.3. El ejemplo realiza secuencialmente los cálculos Fibonacci(46) (línea 22) y Fibonacci(45) (línea 35) cuando el usuario hace clic en el botón Iniciar Llamadas Secuenciales de Fibonacci. Ten en cuenta que una vez que haces clic en el botón, la aplicación deja de responder. Esto ocurre porque los cálculos de Fibonacci se realizan en el hilo de la GUI; una vez que los cálculos se completan, podrás interactuar nuevamente con la aplicación. Antes y después de cada llamada a Fibonacci, capturamos la hora (como un DateTime; Sección 15.4) para poder calcular el tiempo total requerido para ese cálculo y el tiempo total requerido para ambos cálculos. En esta aplicación, utilizamos el operador menos (-) sobrecargado de DateTime para calcular las diferencias entre DateTimes (líneas 27, 40 y 45), al igual que el método Subtract introducido anteriormente, el operador menos (-) devuelve un TimeSpan.

Las dos primeras salidas muestran los resultados de ejecutar la aplicación en una computadora con Windows 10 de doble núcleo. Las dos últimas salidas muestran los resultados de ejecutar la aplicación en una computadora con Windows 10 de un solo núcleo. En todos los casos, los núcleos operaban a la misma velocidad. La aplicación siempre tardó más en ejecutarse (en nuestras pruebas) en la computadora de un solo núcleo, porque el procesador se compartía entre esta aplicación y todas las demás que estaban ejecutándose en la computadora al mismo tiempo. En el sistema de doble núcleo, uno de los núcleos podría haber estado manejando las "otras cosas" que se ejecutaban en la computadora, reduciendo la demanda en el núcleo que realizaba el cálculo síncrono. Los resultados pueden variar en sistemas según la velocidad del procesador, el número de núcleos, las aplicaciones que se están ejecutando actualmente y las tareas que está realizando el sistema operativo.

